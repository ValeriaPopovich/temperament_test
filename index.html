<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>–¢–µ—Å—Ç: —Ç–µ–º–ø–µ—Ä–∞–º–µ–Ω—Ç —É—á–µ–Ω–∏–∫–∞</title>

  <!-- Poppins -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">

  <style>
    :root{
      --bgA:#ffe7ef;
      --bgB:#fff1dc;
      --bgC:#dbfff3;
      --card: rgba(255,255,255,.80);
      --cardSolid: #ffffff;
      --text:#2f222a;
      --muted:#6a5661;

      --pink:#ff74ad;
      --orange:#ff9c5a;
      --mint:#39c9a7;

      --shadow: 0 18px 42px rgba(35,10,25,.10);
      --shadow2: 0 10px 24px rgba(35,10,25,.08);
      --stroke: rgba(255,255,255,.55);

      --radius: 26px;
      --radius2: 18px;
    }

    *{ box-sizing:border-box; }

    html, body { height: 100%; }

    body{
      margin:0;
      font-family:"Poppins", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color:var(--text);
      background:
        radial-gradient(1100px 700px at 15% 10%, rgba(255,116,173,.28), transparent 55%),
        radial-gradient(1000px 650px at 80% 20%, rgba(255,156,90,.22), transparent 55%),
        radial-gradient(900px 600px at 55% 95%, rgba(57,201,167,.18), transparent 55%),
        linear-gradient(120deg, var(--bgA) 0%, var(--bgB) 40%, var(--bgC) 100%);
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      overflow-x: hidden;
    }

    /* Layout */
    .wrap{
      max-width: 920px;
      margin: 0 auto;
      padding: 22px 14px 80px;
    }

    /* Center start screen */
    .centerStage{
      min-height: calc(100vh - 110px);
      display:flex;
      align-items:center;
      justify-content:center;
    }

    /* Cards */
    .card{
      width: 100%;
      background: var(--card);
      border: 1px solid var(--stroke);
      backdrop-filter: blur(12px);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 26px;
      animation: floatIn .55s cubic-bezier(.2,.9,.2,1) both;
    }

    @keyframes floatIn{
      from{ opacity:0; transform: translateY(16px) scale(.985); }
      to{ opacity:1; transform: translateY(0) scale(1); }
    }

    h1{
      margin:0;
      font-size: clamp(22px, 2.5vw, 30px);
      line-height: 1.12;
      letter-spacing: .2px;
      font-weight: 600; /* —Ç–æ–Ω—å—à–µ —á–µ–º –±—ã–ª–æ */
    }

    h2{
      margin:0 0 10px;
      font-size: 16px;
      font-weight: 600;
      letter-spacing: .2px;
    }

    .subtitle{
      margin: 10px 0 0;
      color: var(--muted);
      font-size: clamp(14px, 1.6vw, 16px);
      line-height: 1.45;
      font-weight: 400;
      max-width: 740px;
    }

    .bullets{
      margin: 14px 0 0;
      padding-left: 18px;
      font-size: clamp(14px, 1.6vw, 16px);
      line-height: 1.5;
      font-weight: 400;
    }
    .bullets li{ margin: 6px 0; }

    /* Buttons */
    .btn{
      border:0;
      cursor:pointer;
      padding: 12px 18px;
      border-radius: 999px;
      font-weight: 600;
      font-size: 14px;
      box-shadow: var(--shadow2);
      transition: transform .18s cubic-bezier(.2,.9,.2,1), filter .18s ease;
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap:10px;
      user-select:none;
      text-decoration:none;
      line-height: 1;
      will-change: transform;
    }
    .btn:hover{ transform: translateY(-2px); filter: brightness(1.02); }
    .btn:active{ transform: translateY(0) scale(.99); }

    .btn-primary{
      background: linear-gradient(135deg, var(--pink), var(--orange));
      color:#fff;
    }
    .btn-ghost{
      background: rgba(255,255,255,.74);
      color: var(--text);
      border: 1px solid rgba(0,0,0,.04);
    }

    .startActions{
      margin-top: 18px;
      display:flex;
      gap: 10px;
      flex-wrap:wrap;
      align-items:center;
    }

    /* Quiz / Result */
    #quizCard, #resultCard { display:none; margin-top: 16px; }

    .muted{
      color: var(--muted);
      font-size: 13px;
      margin: 0 0 12px;
      line-height: 1.45;
      font-weight: 400;
    }

    /* Progress */
    .progress{
      display:flex;
      gap:10px;
      align-items:center;
      margin: 8px 0 12px;
    }
    .bar{
      height: 11px;
      flex: 1;
      border-radius: 999px;
      background: rgba(255,255,255,.65);
      overflow:hidden;
      border: 1px solid rgba(0,0,0,.04);
    }
    .fill{
      height:100%;
      width:0%;
      background: linear-gradient(90deg, var(--mint), var(--pink), var(--orange));
      border-radius: 999px;
      transition: width .28s cubic-bezier(.2,.9,.2,1);
    }
    .pLabel{
      font-size: 12px;
      color: var(--muted);
      min-width: 90px;
      text-align:right;
      font-weight: 600;
    }

    /* Questions */
    .question{
      padding: 16px;
      border-radius: var(--radius2);
      background: rgba(255,255,255,.88);
      border: 1px solid rgba(0,0,0,.05);
      box-shadow: 0 10px 24px rgba(35,10,25,.06);
      margin-top: 12px;
      animation: fadeUp .35s ease both;
    }
    @keyframes fadeUp{
      from{ opacity:0; transform: translateY(10px); }
      to{ opacity:1; transform: translateY(0); }
    }

    .qTitle{
      margin:0 0 12px;
      font-weight: 600;  /* —Ç–æ–Ω—å—à–µ */
      font-size: 15px;   /* –∫—Ä—É–ø–Ω–µ–µ */
      line-height: 1.35;
    }

    .options{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 10px;
    }
    @media (max-width: 640px){
      .options{ grid-template-columns: 1fr; }
      .card{ padding: 18px; }
      .centerStage{ min-height: calc(100vh - 90px); }
    }

    .opt{
      border-radius: 18px;
      border: 1px solid rgba(0,0,0,.06);
      background: rgba(255,255,255,.78);
      padding: 12px 12px;
      display:flex;
      gap:10px;
      align-items:flex-start;
      cursor:pointer;
      transition: transform .18s cubic-bezier(.2,.9,.2,1), border-color .18s ease, background .18s ease, box-shadow .18s ease;
      user-select:none;
      will-change: transform;
    }
    .opt:hover{
      transform: translateY(-2px);
      box-shadow: 0 10px 22px rgba(35,10,25,.07);
    }
    .opt input{ display:none; }

    .pill{
      font-weight: 600;
      font-size: 12px;
      padding: 7px 11px;
      border-radius: 999px;
      color: white;
      flex: 0 0 auto;
      margin-top: 1px;
      box-shadow: 0 10px 18px rgba(0,0,0,.08);
    }
    .pill.A{ background: linear-gradient(135deg, var(--orange), #ff6d9e); }
    .pill.B{ background: linear-gradient(135deg, var(--pink), #ffb25e); }
    .pill.C{ background: linear-gradient(135deg, var(--mint), #7be8d1); color:#0e3a30; }
    .pill.D{ background: linear-gradient(135deg, #7a6cff, var(--pink)); }

    .optText{
      font-size: 13.5px;
      line-height: 1.3;
      color: var(--text);
      font-weight: 400; /* —Ç–æ–Ω—å—à–µ */
    }

    .opt.selected{
      border-color: rgba(255,116,173,.45);
      background: rgba(255,255,255,.92);
      transform: translateY(-2px);
    }

    .footerRow{
      margin-top: 16px;
      display:flex;
      gap:10px;
      align-items:center;
      justify-content:space-between;
      flex-wrap:wrap;
    }

    .tiny{
      color: var(--muted);
      font-size: 12.5px;
      font-weight: 400; /* —Ç–æ–Ω—å—à–µ */
    }
    .dangerText{ color:#7a1d3f; font-weight:500; }

    /* Result */
    .resultTitle{
      display:flex;
      align-items:center;
      gap:10px;
      margin:0 0 10px;
      flex-wrap:wrap;
    }
    .badge{
      padding: 8px 12px;
      border-radius: 999px;
      font-weight: 600;
      font-size: 12px;
      color:white;
      box-shadow: var(--shadow2);
      background: linear-gradient(135deg, var(--mint), var(--pink), var(--orange));
    }
    .resultName{
      margin:0;
      font-size: 19px;
      font-weight: 600;
    }
    .block{
      margin-top: 12px;
      background: rgba(255,255,255,.88);
      border: 1px solid rgba(0,0,0,.05);
      border-radius: var(--radius2);
      padding: 14px 16px;
      animation: fadeUp .35s ease both;
    }
    .block h3{
      margin:0 0 8px;
      font-size: 13.5px;
      letter-spacing:.2px;
      font-weight: 600;
    }
    .block ul{
      margin:0;
      padding-left: 18px;
      font-size: 13.5px;
      line-height: 1.45;
      font-weight: 400;
    }
    .block p{
      margin:0;
      font-size: 13.5px;
      line-height: 1.5;
      font-weight: 400;
    }

    /* Tip tags for mixed type clarity */
    .tipLine{
      display:flex;
      gap:10px;
      align-items:flex-start;
      margin: 8px 0;
    }
    .tag{
      flex: 0 0 auto;
      font-size: 11px;
      font-weight: 600;
      padding: 6px 10px;
      border-radius: 999px;
      border: 1px solid rgba(0,0,0,.06);
      background: rgba(255,255,255,.75);
      white-space: nowrap;
    }
    .tag.h{ border-color: rgba(255,156,90,.35); background: rgba(255,156,90,.12); }
    .tag.s{ border-color: rgba(255,116,173,.35); background: rgba(255,116,173,.12); }
    .tag.g{ border-color: rgba(57,201,167,.35); background: rgba(57,201,167,.12); color:#0e3a30; }

    .tipText{
      font-size: 13.5px;
      line-height: 1.45;
      font-weight: 400;
    }

    /* Smooth reveal */
    .softReveal{ animation: floatIn .55s cubic-bezier(.2,.9,.2,1) both; }
  </style>
</head>

<body>
  <div class="wrap">

    <!-- START SCREEN (centered) -->
    <div class="centerStage" id="startStage">
      <div class="card softReveal" id="startCard">
        <h1>–ü—Ä–∏–≤–µ—Ç! –î–∞–≤–∞–π –æ–ø—Ä–µ–¥–µ–ª–∏–º —Ç–≤–æ–π —Ç–µ–º–ø–µ—Ä–∞–º–µ–Ω—Ç ‚ú®</h1>
        <p class="subtitle">
          –û—Ç–≤–µ—Ç—å –Ω–∞ 20 –∫–æ—Ä–æ—Ç–∫–∏—Ö –≤–æ–ø—Ä–æ—Å–æ–≤ ‚Äî –≤ –∫–æ–Ω—Ü–µ —Ç—ã –ø–æ–ª—É—á–∏—à—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∏ –ø–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–≤–µ—Ç—ã –ø–æ —É—á—ë–±–µ.
        </p>
        <ul class="bullets">
          <li>–∫–∞–∫–æ–π —É —Ç–µ–±—è —Ç–∏–ø —Ç–µ–º–ø–µ—Ä–∞–º–µ–Ω—Ç–∞</li>
          <li>—Å–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã</li>
          <li>—á—Ç–æ —á–∞—â–µ –º–µ—à–∞–µ—Ç</li>
          <li>—Å–æ–≤–µ—Ç—ã –ø–æ —É—á—ë–±–µ</li>
        </ul>

        <div class="startActions">
          <button class="btn btn-primary" id="startBtn" type="button">–ù–∞—á–∞—Ç—å —Ç–µ—Å—Ç</button>
          <a class="btn btn-ghost" href="https://t.me/lera_easy_math" target="_blank" rel="noopener">
            –ü–æ–¥–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –∫–∞–Ω–∞–ª
          </a>
        </div>
      </div>
    </div>

    <!-- QUIZ -->
    <div class="card softReveal" id="quizCard">
      <h2>–í–æ–ø—Ä–æ—Å—ã</h2>
      <p class="muted">–í—ã–±–∏—Ä–∞–π –≤–∞—Ä–∏–∞–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π –±–æ–ª—å—à–µ –ø–æ—Ö–æ–∂ –Ω–∞ —Ç–µ–±—è.</p>

      <div class="progress">
        <div class="bar"><div class="fill" id="progressFill"></div></div>
        <div class="pLabel" id="progressLabel">0 / 20</div>
      </div>

      <div id="questionsRoot"></div>

      <div class="footerRow">
        <div class="tiny" id="hintText">–û—Ç–≤–µ—Ç—å –Ω–∞ –≤—Å–µ –≤–æ–ø—Ä–æ—Å—ã ‚Äî –∏ –ø–æ–∫–∞–∂—É —Ä–µ–∑—É–ª—å—Ç–∞—Ç.</div>
        <button class="btn btn-primary" id="finishBtn" type="button">–ü–æ–∫–∞–∑–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç</button>
      </div>
    </div>

    <!-- RESULT -->
    <div class="card softReveal" id="resultCard">
      <div class="resultTitle">
        <div class="badge">–†–ï–ó–£–õ–¨–¢–ê–¢</div>
        <h2 class="resultName" id="resultName">‚Äî</h2>
      </div>

      <div class="block">
        <h3>–ü—Ä–æ —Ç–µ–±—è</h3>
        <p id="resultAbout">‚Äî</p>
      </div>

      <div class="block">
        <h3>–°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã</h3>
        <ul id="resultPros"></ul>
      </div>

      <div class="block">
        <h3>–ß—Ç–æ —á–∞—â–µ –º–µ—à–∞–µ—Ç</h3>
        <ul id="resultCons"></ul>
      </div>

      <div class="block">
        <h3>–°–æ–≤–µ—Ç—ã –ø–æ —É—á—ë–±–µ</h3>
        <div id="resultTips"></div>
      </div>

      <div class="footerRow" style="margin-top:14px;">
        <a class="btn btn-ghost" href="#quizCard" id="backToQuiz">–ö –≤–æ–ø—Ä–æ—Å–∞–º</a>
        <a class="btn btn-primary" href="https://t.me/lera_easy_math" target="_blank" rel="noopener">
          –ü–æ–¥–ø–∏—Å–∞—Ç—å—Å—è ‚ú®
        </a>
      </div>
    </div>

  </div>

  <script>
    const QUESTIONS = [
      { t: "–ö–æ–≥–¥–∞ –¥–∞—é—Ç –Ω–æ–≤–æ–µ –∑–∞–¥–∞–Ω–∏–µ, —è –æ–±—ã—á–Ω–æ‚Ä¶", o: {
        A: "—Å—Ä–∞–∑—É –Ω–∞—á–∏–Ω–∞—é –¥–µ–ª–∞—Ç—å, –¥–∞–∂–µ –µ—Å–ª–∏ –Ω–µ –≤—Å—ë –ø–æ–Ω—è–ª(–∞)",
        B: "—Å–Ω–∞—á–∞–ª–∞ —Å–ø—Ä–∞—à–∏–≤–∞—é/–æ–±—Å—É–∂–¥–∞—é, –ø–æ—Ç–æ–º –¥–µ–ª–∞—é",
        C: "—Å–ø–æ–∫–æ–π–Ω–æ —á–∏—Ç–∞—é, —Ä–∞–∑–±–∏—Ä–∞—é—Å—å –ø–æ —à–∞–≥–∞–º",
        D: "–ø–µ—Ä–µ–∂–∏–≤–∞—é, —á—Ç–æ –Ω–µ –ø–æ–ª—É—á–∏—Ç—Å—è, –∏ –¥–µ–ª–∞—é –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ"
      }},
      { t: "–ï—Å–ª–∏ –∑–∞–¥–∞—á–∞ —Å–ª–æ–∂–Ω–∞—è, —è‚Ä¶", o: {
        A: "–∑–ª—é—Å—å –∏ —Ö–æ—á—É —Ä–µ—à–∏—Ç—å ‚Äú–ª—é–±–æ–π —Ü–µ–Ω–æ–π‚Äù",
        B: "–º–æ–≥—É –æ—Ç–≤–ª–µ—á—å—Å—è, –Ω–æ –ø–æ—Ç–æ–º –≤–µ—Ä–Ω—É—Å—å",
        C: "—Ç–µ—Ä–ø–µ–ª–∏–≤–æ –ø—Ä–æ–±—É—é —Ä–∞–∑–Ω—ã–µ —à–∞–≥–∏",
        D: "–º–æ–≥—É —Ä–∞—Å—Å—Ç—Ä–æ–∏—Ç—å—Å—è –∏ –∑–∞–≤–∏—Å–Ω—É—Ç—å"
      }},
      { t: "–ù–∞ —É—Ä–æ–∫–µ –º–Ω–µ –∫–æ–º—Ñ–æ—Ä—Ç–Ω–µ–µ, –∫–æ–≥–¥–∞‚Ä¶", o: {
        A: "–±—ã—Å—Ç—Ä–æ, —á—ë—Ç–∫–æ, –º–Ω–æ–≥–æ –∑–∞–¥–∞—á",
        B: "–∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ, —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∏ –æ–±—â–µ–Ω–∏–µ–º",
        C: "—Å–ø–æ–∫–æ–π–Ω–æ, –±–µ–∑ —Å–ø–µ—à–∫–∏, —Å –ø–æ–Ω—è—Ç–Ω—ã–º –ø–ª–∞–Ω–æ–º",
        D: "–¥–æ–±—Ä–æ–∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ, –±–µ–∑ –¥–∞–≤–ª–µ–Ω–∏—è –∏ –∫—Ä–∏—Ç–∏–∫–∏"
      }},
      { t: "–î–æ–º–∞—à–∫—É —è –¥–µ–ª–∞—é‚Ä¶", o: {
        A: "—Ä–µ–∑–∫–æ: —Å–µ–ª(–∞) ‚Äî —Å–¥–µ–ª–∞–ª(–∞) ‚Äî —Å–≤–æ–±–æ–¥–µ–Ω(–∞)",
        B: "–ø–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—é, –º–æ–≥—É –ø–µ—Ä–µ—Å–∫–æ—á–∏—Ç—å –º–µ–∂–¥—É –∑–∞–¥–∞–Ω–∏—è–º–∏",
        C: "—Å—Ç–∞–±–∏–ª—å–Ω–æ, –ø–æ –ø—Ä–∏–≤—ã—á–∫–µ, —Ä–æ–≤–Ω–æ",
        D: "–¥–æ–ª–≥–æ —Å–æ–±–∏—Ä–∞—é—Å—å, –º–æ–≥—É –æ—Ç–∫–ª–∞–¥—ã–≤–∞—Ç—å –∏–∑-–∑–∞ —Ç—Ä–µ–≤–æ–≥–∏"
      }},
      { t: "–ï—Å–ª–∏ –º–µ–Ω—è —Ç–æ—Ä–æ–ø—è—Ç, —è‚Ä¶", o: {
        A: "–Ω–∞—á–∏–Ω–∞—é –Ω–µ—Ä–≤–Ω–∏—á–∞—Ç—å –∏ –º–æ–≥—É –≤—Å–ø—ã–ª–∏—Ç—å",
        B: "–º–æ–≥—É –ø–æ—à—É—Ç–∏—Ç—å/–æ—Ç–≤–ª–µ—á—å—Å—è",
        C: "–ø—Ä–æ—Å—Ç–æ –ø—Ä–æ–¥–æ–ª–∂–∞—é –≤ —Å–≤–æ—ë–º —Ç–µ–º–ø–µ",
        D: "—Ç–µ—Ä—è—é—Å—å –∏ –¥–µ–ª–∞—é —Ö—É–∂–µ"
      }},
      { t: "–ö–æ–≥–¥–∞ —É –º–µ–Ω—è –Ω–µ –ø–æ–ª—É—á–∞–µ—Ç—Å—è, —è —á–∞—â–µ‚Ä¶", o: {
        A: "–∑–ª—é—Å—å",
        B: "–ø–µ—Ä–µ–∫–ª—é—á–∞—é—Å—å –Ω–∞ –¥—Ä—É–≥–æ–µ",
        C: "–ø—Ä–æ–±—É—é –µ—â—ë —Ä–∞–∑ —Å–ø–æ–∫–æ–π–Ω–æ",
        D: "–ø–µ—Ä–µ–∂–∏–≤–∞—é –∏ –¥—É–º–∞—é ‚Äú—è —Ç—É–ø–ª—é‚Äù"
      }},
      { t: "–Ø –±—ã—Å—Ç—Ä–µ–µ —É—á—É—Å—å, –∫–æ–≥–¥–∞‚Ä¶", o: {
        A: "–µ—Å—Ç—å —á–µ–ª–ª–µ–Ω–¥–∂ –∏ —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏–µ",
        B: "–µ—Å—Ç—å –∏–≥—Ä–∞, –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤, —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏–µ",
        C: "–µ—Å—Ç—å —á—ë—Ç–∫–∏–π –∞–ª–≥–æ—Ä–∏—Ç–º –∏ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ",
        D: "–µ—Å—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –∏ ‚Äú–±–µ–∑–æ–ø–∞—Å–Ω–∞—è‚Äù –∞—Ç–º–æ—Å—Ñ–µ—Ä–∞"
      }},
      { t: "–ù–∞ –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω–æ–π —è –æ–±—ã—á–Ω–æ‚Ä¶", o: {
        A: "–±—ã—Å—Ç—Ä–æ –ø–∏—à—É, –ø–æ—Ç–æ–º –∏—Å–ø—Ä–∞–≤–ª—è—é –Ω–∞ —Ö–æ–¥—É",
        B: "–º–æ–≥—É —Å–ø–µ—à–∏—Ç—å –∏ –ø—Ä–æ–ø—É—Å–∫–∞—Ç—å –¥–µ—Ç–∞–ª–∏",
        C: "–¥–µ–ª–∞—é –∞–∫–∫—É—Ä–∞—Ç–Ω–æ, –ø—Ä–æ–≤–µ—Ä—è—é",
        D: "–≤–æ–ª–Ω—É—é—Å—å –∏ –º–æ–≥—É –∑–∞–±—ã—Ç—å –¥–∞–∂–µ —Ç–æ, —á—Ç–æ –∑–Ω–∞—é"
      }},
      { t: "–ï—Å–ª–∏ —É—á–∏—Ç–µ–ª—å –¥–µ–ª–∞–µ—Ç –∑–∞–º–µ—á–∞–Ω–∏–µ, —è‚Ä¶", o: {
        A: "—Å–ø–æ—Ä—é –∏–ª–∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ ‚Äú–∫–∏–ø–ª—é‚Äù",
        B: "–º–æ–≥—É –æ—Ç—à—É—Ç–∏—Ç—å—Å—è",
        C: "–ø—Ä–∏–Ω–∏–º–∞—é –∏ –∏—Å–ø—Ä–∞–≤–ª—è—é",
        D: "—Å–∏–ª—å–Ω–æ –ø–µ—Ä–µ–∂–∏–≤–∞—é –∏ –º–æ–≥—É –∑–∞–∫—Ä—ã—Ç—å—Å—è"
      }},
      { t: "–ú–æ–π –∏–¥–µ–∞–ª—å–Ω—ã–π —Ç–µ–º–ø –∑–∞–Ω—è—Ç–∏–π‚Ä¶", o: {
        A: "–±—ã—Å—Ç—Ä—ã–π, –¥–∏–Ω–∞–º–∏—á–Ω—ã–π",
        B: "—Å—Ä–µ–¥–Ω–∏–π, —á—Ç–æ–±—ã –±—ã–ª–æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ",
        C: "—Å–ø–æ–∫–æ–π–Ω—ã–π –∏ —Ä–æ–≤–Ω—ã–π",
        D: "–º–µ–¥–ª–µ–Ω–Ω—ã–π, —á—Ç–æ–±—ã —Ç–æ—á–Ω–æ –ø–æ–Ω—è—Ç—å"
      }},
      { t: "–ö–æ–≥–¥–∞ —è —É—Å—Ç–∞—é, —è‚Ä¶", o: {
        A: "—Å—Ç–∞–Ω–æ–≤–ª—é—Å—å —Ä–∞–∑–¥—Ä–∞–∂–∏—Ç–µ–ª—å–Ω—ã–º(–æ–π)",
        B: "–Ω–∞—á–∏–Ω–∞—é –æ—Ç–≤–ª–µ–∫–∞—Ç—å—Å—è",
        C: "–ø—Ä–æ—Å—Ç–æ —Ä–∞–±–æ—Ç–∞—é –º–µ–¥–ª–µ–Ω–Ω–µ–µ",
        D: "–º–æ–≥—É ‚Äú–ø–æ—Ç—É—Ö–Ω—É—Ç—å‚Äù –∏ –ø–æ—Ç–µ—Ä—è—Ç—å —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å"
      }},
      { t: "–ï—Å–ª–∏ –≤ –∑–∞–¥–∞—á–µ –º–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞‚Ä¶", o: {
        A: "—Ö–æ—á—É —Å—Ä–∞–∑—É –∫ —Å—É—Ç–∏, –ø—Ä–æ–ø—É—Å–∫–∞—é –ª–∏—à–Ω–µ–µ",
        B: "–º–æ–≥—É –∑–∞–ø—É—Ç–∞—Ç—å—Å—è, –µ—Å–ª–∏ —Å–∫—É—á–Ω–æ",
        C: "—Å–ø–æ–∫–æ–π–Ω–æ —á–∏—Ç–∞—é –∏ –≤—ã–¥–µ–ª—è—é –¥–∞–Ω–Ω—ã–µ",
        D: "–Ω–∞–ø—Ä—è–≥–∞—é—Å—å –∏ –±–æ—é—Å—å –æ—à–∏–±–∏—Ç—å—Å—è"
      }},
      { t: "–í –≥—Ä—É–ø–ø–µ/–ø–∞—Ä–µ –º–Ω–µ –æ–±—ã—á–Ω–æ‚Ä¶", o: {
        A: "–Ω—Ä–∞–≤–∏—Ç—Å—è –±—ã—Ç—å –ª–∏–¥–µ—Ä–æ–º",
        B: "–Ω—Ä–∞–≤–∏—Ç—Å—è –æ–±—â–µ–Ω–∏–µ –∏ –¥–≤–∏–∂",
        C: "–Ω–æ—Ä–º–∞–ª—å–Ω–æ, –µ—Å–ª–∏ –≤—Å–µ —Å–ø–æ–∫–æ–π–Ω—ã–µ",
        D: "—Ç—Ä—É–¥–Ω–æ, –µ—Å–ª–∏ –º–µ–Ω—è –ø–µ—Ä–µ–±–∏–≤–∞—é—Ç/–¥–∞–≤—è—Ç"
      }},
      { t: "–Ø —á–∞—â–µ –æ—à–∏–±–∞—é—Å—å –∏–∑-–∑–∞‚Ä¶", o: {
        A: "—Å–ø–µ—à–∫–∏ –∏ –∂–µ–ª–∞–Ω–∏—è –±—ã—Å—Ç—Ä–µ–µ",
        B: "–Ω–µ–≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏/–ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–π",
        C: "—Ä–µ–¥–∫–∏—Ö –æ—à–∏–±–æ–∫, –Ω–æ –±—ã–≤–∞–µ—Ç ‚Äú–∑–∞–≤–∏—Å–∞–Ω–∏–µ‚Äù",
        D: "—Ç—Ä–µ–≤–æ–≥–∏ –∏ –Ω–µ—É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏"
      }},
      { t: "–ï—Å–ª–∏ –∑–∞–¥–∞—á–∞ –æ–¥–Ω–æ—Ç–∏–ø–Ω–∞—è (–º–Ω–æ–≥–æ –ø–æ—Ö–æ–∂–∏—Ö), —è‚Ä¶", o: {
        A: "–¥–µ–ª–∞—é –±—ã—Å—Ç—Ä–æ –∏ –º–æ–≥—É ‚Äú–ø—Å–∏—Ö–∞–Ω—É—Ç—å‚Äù",
        B: "–±—ã—Å—Ç—Ä–æ —É—Å—Ç–∞—é –∏ —Ö–æ—á—É —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏—è",
        C: "–º–Ω–µ –Ω–æ—Ä–º, –¥–∞–∂–µ –Ω—Ä–∞–≤–∏—Ç—Å—è",
        D: "–º–Ω–µ —Å—Ç—Ä–∞—à–Ω–æ –æ—à–∏–±–∏—Ç—å—Å—è, –¥–µ–ª–∞—é –º–µ–¥–ª–µ–Ω–Ω–æ"
      }},
      { t: "–ú–Ω–µ –ª–µ–≥—á–µ –Ω–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É, –µ—Å–ª–∏‚Ä¶", o: {
        A: "–µ—Å—Ç—å —Ü–µ–ª—å ‚Äú—Å–¥–µ–ª–∞—Ç—å –∑–∞ 10 –º–∏–Ω—É—Ç‚Äù",
        B: "–µ—Å—Ç—å –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç (–∏–≥—Ä–∞/–∫–≤–µ—Å—Ç)",
        C: "–µ—Å—Ç—å –ø–ª–∞–Ω ‚Äú—à–∞–≥ 1‚Äì2‚Äì3‚Äù",
        D: "–º–µ–Ω—è –ø–æ–¥–¥–µ—Ä–∂–∞—Ç –∏ —Å–∫–∞–∂—É—Ç ‚Äú—Å–ø–æ–∫–æ–π–Ω–æ, –ø–æ–ª—É—á–∏—Ç—Å—è‚Äù"
      }},
      { t: "–ö–æ–≥–¥–∞ –≤—Å—ë –∏–¥—ë—Ç —Ö–æ—Ä–æ—à–æ, —è‚Ä¶", o: {
        A: "—Ö–æ—á—É –µ—â—ë —Å–ª–æ–∂–Ω–µ–µ",
        B: "—Ä–∞–¥—É—é—Å—å –∏ –∑–∞—Ä—è–∂–∞—é –≤—Å–µ—Ö",
        C: "—Å–ø–æ–∫–æ–π–Ω–æ –ø—Ä–æ–¥–æ–ª–∂–∞—é",
        D: "—É–¥–∏–≤–ª—è—é—Å—å –∏ –±–æ—é—Å—å ‚Äú—Å–µ–π—á–∞—Å —Å–æ—Ä–≤—É—Å—å‚Äù"
      }},
      { t: "–ö–æ–≥–¥–∞ –º–µ–Ω—è —Ö–≤–∞–ª—è—Ç, —è‚Ä¶", o: {
        A: "—Ö–æ—á—É —Å—Ä–∞–∑—É —Å–ª–µ–¥—É—é—â–∏–π —É—Ä–æ–≤–µ–Ω—å",
        B: "—Å—Ç–∞–Ω–æ–≤–ª—é—Å—å –µ—â—ë –∞–∫—Ç–∏–≤–Ω–µ–µ",
        C: "–ø—Ä–æ—Å—Ç–æ —Ä–∞–¥(–∞) –∏ –ø—Ä–æ–¥–æ–ª–∂–∞—é",
        D: "–º–Ω–µ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Å–ø–æ–∫–æ–π–Ω–µ–µ –∏ —É–≤–µ—Ä–µ–Ω–Ω–µ–µ"
      }},
      { t: "–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –¥–æ–ª–≥–æ –¥—É–º–∞—Ç—å, —è‚Ä¶", o: {
        A: "—Ä–∞–∑–¥—Ä–∞–∂–∞—é—Å—å, —Ö–æ—á—É –±—ã—Å—Ç—Ä–µ–µ",
        B: "–Ω–∞—á–∏–Ω–∞—é —Ç–µ—Ä—è—Ç—å –≤–Ω–∏–º–∞–Ω–∏–µ",
        C: "–Ω–æ—Ä–º–∞–ª—å–Ω–æ, –ª—é–±–ª—é –≤–¥—É–º—á–∏–≤–æ",
        D: "–º–æ–≥—É –Ω–∞—á–∞—Ç—å –ø–µ—Ä–µ–∂–∏–≤–∞—Ç—å –∏ —Å–æ–º–Ω–µ–≤–∞—Ç—å—Å—è"
      }},
      { t: "–í —Ü–µ–ª–æ–º —è –ø—Ä–æ —Å–µ–±—è –¥—É–º–∞—é, —á—Ç–æ —è‚Ä¶", o: {
        A: "—Ä–µ–∑–∫–∏–π(–∞—è), –±—ã—Å—Ç—Ä—ã–π(–∞—è), —ç–Ω–µ—Ä–≥–∏—á–Ω—ã–π(–∞—è)",
        B: "–æ–±—â–∏—Ç–µ–ª—å–Ω—ã–π(–∞—è), –ø–æ–¥–≤–∏–∂–Ω—ã–π(–∞—è), –ª—ë–≥–∫–∏–π(–∞—è)",
        C: "—Å–ø–æ–∫–æ–π–Ω—ã–π(–∞—è), —É—Å—Ç–æ–π—á–∏–≤—ã–π(–∞—è), –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π(–∞—è)",
        D: "—á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–π(–∞—è), –æ—Å—Ç–æ—Ä–æ–∂–Ω—ã–π(–∞—è), –≤–ø–µ—á–∞—Ç–ª–∏—Ç–µ–ª—å–Ω—ã–π(–∞—è)"
      }},
    ];

    // –î–ª—è —Å–º–µ—à–∞–Ω–Ω—ã—Ö —Ç–∏–ø–æ–≤ –º—ã –±—É–¥–µ–º –ø–æ–º–µ—á–∞—Ç—å —Å–æ–≤–µ—Ç—ã: [–•–æ–ª–µ—Ä–∏–∫]/[–°–∞–Ω–≥–≤–∏–Ω–∏–∫] + –æ–±—â–∏–µ
    const RESULTS = {
      A: {
        label: "–•–æ–ª–µ—Ä–∏–∫",
        about: "–¢—ã –±—ã—Å—Ç—Ä—ã–π(–∞—è), —ç–Ω–µ—Ä–≥–∏—á–Ω—ã–π(–∞—è) –∏ –∑–∞—Ä—è–∂–µ–Ω–Ω—ã–π(–∞—è). –ï—Å–ª–∏ –∑–∞–¥–∞—á–∞ —Ü–µ–ø–ª—è–µ—Ç ‚Äî —Ç—ã –≤—Ä—ã–≤–∞–µ—à—å—Å—è –∏ —Ö–æ—á–µ—à—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å.",
        pros: ["–±—ã—Å—Ç—Ä–æ —Å—Ö–≤–∞—Ç—ã–≤–∞–µ—à—å —Å—É—Ç—å","–Ω–µ –±–æ–∏—à—å—Å—è —Å–ª–æ–∂–Ω—ã—Ö –∑–∞–¥–∞—á","—Ö–æ—Ä–æ—à–æ —Ä–∞–±–æ—Ç–∞–µ—à—å –≤ –∏–Ω—Ç–µ–Ω—Å–∏–≤–µ","—É–º–µ–µ—à—å ‚Äú–¥–æ–∂–∏–º–∞—Ç—å‚Äù –¥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞"],
        cons: ["—Å–ø–µ—à–∫–∞ ‚Üí –≥–ª—É–ø—ã–µ –æ—à–∏–±–∫–∏","–∑–ª–∏—à—å—Å—è, –µ—Å–ª–∏ –Ω–µ –≤—ã—Ö–æ–¥–∏—Ç —Å—Ä–∞–∑—É","—Å–ª–æ–∂–Ω–æ –¥–æ–ª–≥–æ –¥–µ–ª–∞—Ç—å –æ–¥–Ω–æ—Ç–∏–ø–Ω–æ–µ","–º–æ–∂–µ—à—å –ø–µ—Ä–µ–≥–æ—Ä–µ—Ç—å"],
        tips: [
          { tag:"h", text:"—Å—Ç–∞–≤—å —Ç–∞–π–º–µ—Ä: ¬´5 –∑–∞–¥–∞—á –∑–∞ 10 –º–∏–Ω—É—Ç¬ª" },
          { tag:"h", text:"–ø—Ä–æ—á–∏—Ç–∞–π —É—Å–ª–æ–≤–∏–µ –¥–æ –∫–æ–Ω—Ü–∞ (–¥–∞-–¥–∞ üòÑ)" },
          { tag:"h", text:"–æ—Å—Ç–∞–≤–ª—è–π 2‚Äì3 –º–∏–Ω—É—Ç—ã –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫—É" },
          { tag:"h", text:"–µ—Å–ª–∏ –∑–∞–∫–∏–ø–∞–µ—à—å ‚Äî –ø–∞—É–∑–∞ 30 —Å–µ–∫—É–Ω–¥ –∏ –¥–∞–ª—å—à–µ" }
        ]
      },
      B: {
        label: "–°–∞–Ω–≥–≤–∏–Ω–∏–∫",
        about: "–¢—ã –∂–∏–≤–æ–π(–∞—è), –æ–±—â–∏—Ç–µ–ª—å–Ω—ã–π(–∞—è), –ª–µ–≥–∫–æ –≤–∫–ª—é—á–∞–µ—à—å—Å—è. –£—á—ë–±–∞ –∏–¥—ë—Ç –ª—É—á—à–µ, –∫–æ–≥–¥–∞ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ –∏ –µ—Å—Ç—å –¥–≤–∏–∂.",
        pros: ["–±—ã—Å—Ç—Ä–æ –≤—Ö–æ–¥–∏—à—å –≤ –Ω–æ–≤—ã–π –º–∞—Ç–µ—Ä–∏–∞–ª","–Ω–µ –±–æ–∏—à—å—Å—è —Å–ø—Ä–∞—à–∏–≤–∞—Ç—å","–ª–µ–≥–∫–æ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—à—å—Å—è","–∫—Ä—É—Ç–æ —É—á–∏—à—å—Å—è —á–µ—Ä–µ–∑ –¥–∏–∞–ª–æ–≥"],
        cons: ["–æ—Ç–≤–ª–µ–∫–∞–µ—à—å—Å—è","–º–æ–∂–µ—à—å –Ω–µ –¥–æ–≤–æ–¥–∏—Ç—å –¥–æ –∫–æ–Ω—Ü–∞","–ø—Ä–æ–ø—É—Å–∫–∞–µ—à—å –¥–µ—Ç–∞–ª–∏","—Ä–∞–±–æ—Ç–∞ ‚Äú–ø–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—é‚Äù"],
        tips: [
          { tag:"s", text:"–¥–µ–ª–∏ –¥–æ–º–∞—à–∫—É –Ω–∞ –±–ª–æ–∫–∏ –ø–æ 10‚Äì15 –º–∏–Ω—É—Ç" },
          { tag:"s", text:"—á–µ—Ä–µ–¥—É–π —Å–ª–æ–∂–Ω–æ–µ –∏ –ª—ë–≥–∫–æ–µ" },
          { tag:"s", text:"–ø—Ä–æ–≥–æ–≤–∞—Ä–∏–≤–∞–π —Ä–µ—à–µ–Ω–∏–µ –≤—Å–ª—É—Ö" },
          { tag:"s", text:"–¥–µ–ª–∞–π –º–∏–Ω–∏-—á–µ–∫–ª–∏—Å—Ç: ¬´—Å–¥–µ–ª–∞–ª ‚Üí –æ—Ç–º–µ—Ç–∏–ª¬ª" }
        ]
      },
      C: {
        label: "–§–ª–µ–≥–º–∞—Ç–∏–∫",
        about: "–¢—ã —Å–ø–æ–∫–æ–π–Ω—ã–π(–∞—è), —É—Å—Ç–æ–π—á–∏–≤—ã–π(–∞—è) –∏ –Ω–∞–¥—ë–∂–Ω—ã–π(–∞—è). –¢—ã –Ω–µ –ª—é–±–∏—à—å —Å—É–µ—Ç—É, –∑–∞—Ç–æ —É–º–µ–µ—à—å –≥–ª—É–±–æ–∫–æ —Ä–∞–∑–±–∏—Ä–∞—Ç—å—Å—è.",
        pros: ["—É—Å–∏–¥—á–∏–≤–æ—Å—Ç—å –∏ —Ç–µ—Ä–ø–µ–Ω–∏–µ","–ª–æ–≥–∏–∫–∞ –∏ —Å–∏—Å—Ç–µ–º–Ω–æ—Å—Ç—å","–∞–∫–∫—É—Ä–∞—Ç–Ω–æ—Å—Ç—å","—Å—Ç–∞–±–∏–ª—å–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç"],
        cons: ["–º–µ–¥–ª–µ–Ω–Ω—ã–π —Å—Ç–∞—Ä—Ç","—Å–ª–æ–∂–Ω–æ –ø–æ–¥ –∂—ë—Å—Ç–∫–∏–π —Ç–∞–π–º–∏–Ω–≥","–º–æ–∂–µ—à—å –∑–∞–≤–∏—Å–∞—Ç—å –±–µ–∑ –ø–ª–∞–Ω–∞","–Ω–µ —Å—Ä–∞–∑—É –≤–∫–ª—é—á–∞–µ—à—å—Å—è"],
        tips: [
          { tag:"g", text:"–Ω–∞—á–∏–Ω–∞–π —Å –ø–ª–∞–Ω–∞: ¬´—à–∞–≥ 1‚Äì2‚Äì3¬ª" },
          { tag:"g", text:"—Ä–∞–∑–±–∏–≤–∞–π –∑–∞–¥–∞—á–∏ –Ω–∞ –º–∞–ª–µ–Ω—å–∫–∏–µ —à–∞–≥–∏" },
          { tag:"g", text:"—Å–∫–æ—Ä–æ—Å—Ç—å —Ç—Ä–µ–Ω–∏—Ä—É–π –æ—Ç–¥–µ–ª—å–Ω–æ (–ø–æ 5 –º–∏–Ω—É—Ç –≤ –¥–µ–Ω—å)" },
          { tag:"g", text:"–¥–µ–ª–∞–π –º–∏–Ω–∏-–∫–æ–Ω—Å–ø–µ–∫—Ç ‚Äú—à–∞–±–ª–æ–Ω–æ–≤‚Äù —Ä–µ—à–µ–Ω–∏–π" }
        ]
      },
      D: {
        label: "–ú–µ–ª–∞–Ω—Ö–æ–ª–∏–∫",
        about: "–¢—ã —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–π(–∞—è), –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω—ã–π(–∞—è) –∏ –≥–ª—É–±–æ–∫–æ –ø–µ—Ä–µ–∂–∏–≤–∞–µ—à—å. –¢—ã –º–æ–∂–µ—à—å –∑–Ω–∞—Ç—å –º–∞—Ç–µ—Ä–∏–∞–ª, –Ω–æ –∏–∑-–∑–∞ –≤–æ–ª–Ω–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–æ—Å–µ–¥–∞–µ—Ç.",
        pros: ["–≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å","–∞–∫–∫—É—Ä–∞—Ç–Ω–æ—Å—Ç—å","–≥–ª—É–±–æ–∫–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ","–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å"],
        cons: ["—Ç—Ä–µ–≤–æ–≥–∞ –∏ —Å—Ç—Ä–∞—Ö –æ—à–∏–±–æ–∫","—Å—Ç—É–ø–æ—Ä –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞—Ö/–∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã—Ö","–∑–∞–Ω–∏–∂–µ–Ω–Ω–∞—è —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å","—Ç—Ä—É–¥–Ω–æ –Ω–∞—á–∏–Ω–∞—Ç—å –±–µ–∑ –ø–æ–¥–¥–µ—Ä–∂–∫–∏"],
        tips: [
          { tag:"g", text:"–Ω–∞—á–∏–Ω–∞–π —Å –ø—Ä–æ—Å—Ç–æ–≥–æ/–∑–Ω–∞–∫–æ–º–æ–≥–æ ‚Äî —ç—Ç–æ –¥–∞—ë—Ç —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å" },
          { tag:"g", text:"–ø–∏—à–∏ —á–µ—Ä–Ω–æ–≤–∏–∫: –º–æ–∑–≥—É —Å–ø–æ–∫–æ–π–Ω–µ–µ" },
          { tag:"g", text:"–Ω–∞–ø–æ–º–∏–Ω–∞–ª–∫–∞: ¬´–æ—à–∏–±–∫–∞ ‚Äî —ç—Ç–æ —à–∞–≥ –∫ —Ä–µ—à–µ–Ω–∏—é¬ª" },
          { tag:"g", text:"—Ç—Ä–µ–Ω–∏—Ä—É–π—Å—è —Å–ø–æ–∫–æ–π–Ω–æ, –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ —É—Å–∫–æ—Ä—è—è—Å—å" }
        ]
      }
    };

    // UI refs
    const startStage = document.getElementById("startStage");
    const startBtn = document.getElementById("startBtn");
    const quizCard = document.getElementById("quizCard");
    const resultCard = document.getElementById("resultCard");

    const questionsRoot = document.getElementById("questionsRoot");
    const progressFill = document.getElementById("progressFill");
    const progressLabel = document.getElementById("progressLabel");
    const hintText = document.getElementById("hintText");
    const finishBtn = document.getElementById("finishBtn");

    const resultName = document.getElementById("resultName");
    const resultAbout = document.getElementById("resultAbout");
    const resultPros = document.getElementById("resultPros");
    const resultCons = document.getElementById("resultCons");
    const resultTips = document.getElementById("resultTips");

    startBtn.addEventListener("click", () => {
      startStage.style.display = "none";
      quizCard.style.display = "block";
      quizCard.scrollIntoView({behavior:"smooth", block:"start"});
      // –ª–µ–≥–∫–∏–π ‚Äú–≤—Ö–æ–¥‚Äù –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏
      quizCard.animate(
        [{opacity:0, transform:"translateY(10px)"},{opacity:1, transform:"translateY(0)"}],
        {duration:260, easing:"cubic-bezier(.2,.9,.2,1)"}
      );
    });

    function escapeHtml(str){
      return String(str)
        .replaceAll("&","&amp;")
        .replaceAll("<","&lt;")
        .replaceAll(">","&gt;")
        .replaceAll('"',"&quot;")
        .replaceAll("'","&#039;");
    }

    function render(){
      questionsRoot.innerHTML = "";
      QUESTIONS.forEach((q, idx) => {
        const el = document.createElement("div");
        el.className = "question";
        el.innerHTML = `
          <p class="qTitle">${idx+1}. ${escapeHtml(q.t)}</p>
          <div class="options" data-q="${idx}">
            ${["A","B","C","D"].map(k => `
              <label class="opt" data-opt="${k}">
                <input type="radio" name="q_${idx}" value="${k}">
                <span class="pill ${k}">${k}</span>
                <span class="optText">${escapeHtml(q.o[k])}</span>
              </label>
            `).join("")}
          </div>
        `;
        questionsRoot.appendChild(el);
      });

      questionsRoot.addEventListener("change", (e) => {
        const input = e.target;
        if (!input || input.type !== "radio") return;
        const qIndex = input.name.split("_")[1];
        const group = document.querySelector(`.options[data-q="${qIndex}"]`);
        [...group.querySelectorAll(".opt")].forEach(o => o.classList.remove("selected"));
        group.querySelector(`.opt[data-opt="${input.value}"]`)?.classList.add("selected");
        updateProgress();
      });

      questionsRoot.addEventListener("click", (e) => {
        const opt = e.target.closest(".opt");
        if (!opt) return;
        opt.querySelector("input")?.click();
      });

      updateProgress();
    }

    function getAnswers(){
      const answers = [];
      for (let i=0;i<QUESTIONS.length;i++){
        const checked = document.querySelector(`input[name="q_${i}"]:checked`);
        answers.push(checked ? checked.value : null);
      }
      return answers;
    }

    function updateProgress(){
      const answers = getAnswers();
      const done = answers.filter(Boolean).length;
      progressLabel.textContent = `${done} / ${QUESTIONS.length}`;
      progressFill.style.width = `${Math.round(done / QUESTIONS.length * 100)}%`;

      if (done === QUESTIONS.length){
        hintText.textContent = "–ì–æ—Ç–æ–≤–æ! –ñ–º–∏ ‚Äú–ü–æ–∫–∞–∑–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç‚Äù.";
        hintText.classList.remove("dangerText");
      } else {
        hintText.textContent = `–û—Å—Ç–∞–ª–æ—Å—å –æ—Ç–≤–µ—Ç–∏—Ç—å –µ—â—ë –Ω–∞ ${QUESTIONS.length - done}.`;
        hintText.classList.remove("dangerText");
      }
    }

    function calcResult(answers){
      const counts = {A:0,B:0,C:0,D:0};
      answers.forEach(a => { if(a) counts[a]++; });

      const ranked = Object.entries(counts).sort((a,b)=>b[1]-a[1]);
      const [topKey, topVal] = ranked[0];
      const [secondKey, secondVal] = ranked[1];
      const diff = topVal - secondVal;

      return (diff <= 1)
        ? { mixed:true, primary:topKey, secondary:secondKey }
        : { mixed:false, primary:topKey, secondary:null };
    }

    function renderList(ul, items){
      ul.innerHTML = "";
      items.forEach(x => {
        const li = document.createElement("li");
        li.textContent = x;
        ul.appendChild(li);
      });
    }

    function renderTips(container, tips){
      container.innerHTML = "";
      tips.forEach(t => {
        const row = document.createElement("div");
        row.className = "tipLine";
        const tag = document.createElement("span");
        tag.className = "tag " + (t.tag || "g");
        tag.textContent =
          t.tag === "h" ? "–•–æ–ª–µ—Ä–∏–∫" :
          t.tag === "s" ? "–°–∞–Ω–≥–≤–∏–Ω–∏–∫" :
          "–û–±—â–µ–µ";
        const text = document.createElement("div");
        text.className = "tipText";
        text.textContent = t.text;
        row.appendChild(tag);
        row.appendChild(text);
        container.appendChild(row);
      });
    }

    function showResult(){
      const answers = getAnswers();
      const done = answers.filter(Boolean).length;

      if (done !== QUESTIONS.length){
        hintText.textContent = "–ù—É–∂–Ω–æ –æ—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ –≤—Å–µ –≤–æ–ø—Ä–æ—Å—ã üôÇ";
        hintText.classList.add("dangerText");
        return;
      }

      const res = calcResult(answers);

      let title = "";
      let about = "";
      let pros = [];
      let cons = [];
      let tips = [];

      if (!res.mixed){
        const data = RESULTS[res.primary];
        title = data.label;
        about = data.about;
        pros = data.pros;
        cons = data.cons;
        tips = data.tips;
      } else {
        const a = RESULTS[res.primary];
        const b = RESULTS[res.secondary];

        title = `–°–º–µ—à–∞–Ω–Ω—ã–π —Ç–∏–ø: ${a.label} + ${b.label}`;
        about = `–£ —Ç–µ–±—è –ø–æ—á—Ç–∏ –ø–æ—Ä–æ–≤–Ω—É –¥–≤–∞ —Ç–∏–ø–∞ ‚Äî —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ. –ß—Ç–æ–±—ã –±—ã–ª–æ –ø–æ–Ω—è—Ç–Ω–æ, –∫–∞–∫–∏–µ —Å–æ–≤–µ—Ç—ã ‚Äú–æ—Ç–∫—É–¥–∞‚Äù, –Ω–∏–∂–µ –æ–Ω–∏ –ø–æ–º–µ—á–µ–Ω—ã —Ç–µ–≥–∞–º–∏.`;

        pros = [...a.pros.slice(0,2), ...b.pros.slice(0,2)];
        cons = [...a.cons.slice(0,2), ...b.cons.slice(0,2)];

        tips = [
          ...a.tips.slice(0,2),
          ...b.tips.slice(0,2),
          { tag:"g", text:"–ø–æ–ø—Ä–æ–±—É–π —Å–æ–≤–µ—Ç—ã –æ–±–æ–∏—Ö —Ç–∏–ø–æ–≤ 2‚Äì3 –¥–Ω—è –∏ –æ—Å—Ç–∞–≤—å —Ç–µ, –ø–æ—Å–ª–µ –∫–æ—Ç–æ—Ä—ã—Ö –º–µ–Ω—å—à–µ –æ—à–∏–±–æ–∫ –∏ –±–æ–ª—å—à–µ —Å–¥–µ–ª–∞–Ω–Ω—ã—Ö –∑–∞–¥–∞—á" }
        ];
      }

      resultName.textContent = title;
      resultAbout.textContent = about;
      renderList(resultPros, pros);
      renderList(resultCons, cons);
      renderTips(resultTips, tips);

      resultCard.style.display = "block";
      resultCard.scrollIntoView({behavior:"smooth", block:"start"});
      resultCard.animate(
        [{opacity:0, transform:"translateY(10px)"},{opacity:1, transform:"translateY(0)"}],
        {duration:280, easing:"cubic-bezier(.2,.9,.2,1)"}
      );
    }

    finishBtn.addEventListener("click", showResult);

    render();
  </script>
</body>
</html>
